<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Nathan - Portfolio</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Poppins:wght@300;400;500;600&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <header id="home" class="header">
      <nav class="nav">
        <div class="logo">Nathan</div>
        <div class="menu">
          <a href="#home" class="menu-item active">Accueil</a>
          <a href="#about" class="menu-item">√Ä propos</a>
          <a href="#skills" class="menu-item">Comp√©tences</a>
          <a href="#contact" class="menu-item">Contact</a>
        </div>
      </nav>

      <div class="header-content">
        <div class="header-text">
          <span class="pre-title">Bonjour, je suis</span>
          <h1 class="animated-title">Nathan</h1>
          <h2 class="animated-subtitle">√âtudiant & D√©veloppeur</h2>
          <p class="header-description">
            Je suis un √©tudiant passionn√© par les sciences et la technologie, en
            particulier les math√©matiques, la physique et l'intelligence
            artificielle !
          </p>
          <a href="#contact" class="cta-button">Me contacter</a>

          <div class="social-links">
            <a
              href="https://github.com/NathanSNB/"
              class="social-icon"
              aria-label="GitHub"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="24"
                height="24"
                viewBox="0 0 24 24"
                fill="currentColor"
              >
                <path
                  d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"
                />
              </svg>
            </a>
            <a
              href="https://discord.com/users/_mrNathan"
              class="social-icon"
              aria-label="Discord"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="24"
                height="24"
                viewBox="0 0 24 24"
                fill="currentColor"
              >
                <path
                  d="M20.317 4.3698a19.7913 19.7913 0 00-4.8851-1.5152.0741.0741 0 00-.0785.0371c-.211.3753-.4447.8648-.6083 1.2495-1.8447-.2762-3.68-.2762-5.4868 0-.1636-.3933-.4058-.8742-.6177-1.2495a.077.077 0 00-.0785-.037 19.7363 19.7363 0 00-4.8852 1.515.0699.0699 0 00-.0321.0277C.5334 9.0458-.319 13.5799.0992 18.0578a.0824.0824 0 00.0312.0561c2.0528 1.5076 4.0413 2.4228 5.9929 3.0294a.0777.0777 0 00.0842-.0276c.4616-.6304.8731-1.2952 1.226-1.9942a.076.076 0 00-.0416-.1057c-.6528-.2476-1.2743-.5495-1.8722-.8923a.077.077 0 01-.0076-.1277c.1258-.0943.2517-.1923.3718-.2914a.0743.0743 0 01.0776-.0105c3.9278 1.7933 8.18 1.7933 12.0614 0a.0739.0739 0 01.0785.0095c.1202.099.246.1981.3728.2924a.077.077 0 01-.0066.1276 12.2986 12.2986 0 01-1.873.8914.0766.0766 0 00-.0407.1067c.3604.698.7719 1.3628 1.225 1.9932a.076.076 0 00.0842.0286c1.961-.6067 3.9495-1.5219 6.0023-3.0294a.077.077 0 00.0313-.0552c.5004-5.177-.8382-9.6739-3.5485-13.6604a.061.061 0 00-.0312-.0286zM8.02 15.3312c-1.1825 0-2.1569-1.0857-2.1569-2.419 0-1.3332.9555-2.4189 2.157-2.4189 1.2108 0 2.1757 1.0952 2.1568 2.419 0 1.3332-.9555 2.4189-2.1569 2.4189zm7.9748 0c-1.1825 0-2.1569-1.0857-2.1569-2.419 0-1.3332.9554-2.4189 2.1569-2.4189 1.2108 0 2.1757 1.0952 2.1568 2.419 0 1.3332-.946 2.4189-2.1568 2.4189Z"
                />
              </svg>
            </a>
            <a
              href="mailto:NatSNB68@gmail.com"
              class="social-icon"
              aria-label="Email"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="24"
                height="24"
                viewBox="0 0 24 24"
                fill="currentColor"
              >
                <path
                  d="M0 3v18h24v-18h-24zm6.623 7.929l-4.623 5.712v-9.458l4.623 3.746zm-4.141-5.929h19.035l-9.517 7.713-9.518-7.713zm5.694 7.188l3.824 3.099 3.83-3.104 5.612 6.817h-18.779l5.513-6.812zm9.208-1.264l4.616-3.741v9.348l-4.616-5.607z"
                />
              </svg>
            </a>
          </div>
        </div>

        <div class="header-visuals">
          <!-- Existing geometric decoration -->
        </div>
      </div>

      <div class="scroll-indicator">
        <div class="mouse">
          <div class="wheel"></div>
        </div>
        <div class="arrow">
          <span>Scroll</span>
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="24"
            height="24"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
          >
            <path d="M12 5v14M19 12l-7 7-7-7" />
          </svg>
        </div>
      </div>

      <div class="header-border"></div>
    </header>

    <main class="main-content">
      <div class="container">
        <section id="about" class="intro-section">
          <div class="intro-text">
            <h2 class="intro-heading">√Ä PROPOS DE MOI</h2>
            <div class="intro-divider"></div>

            <div class="bio-item">
              <div class="bio-icon">üî≠</div>
              <div class="bio-content">
                <h3>Projets personnels</h3>
                <p>
                  Je travaille actuellement sur des projets comme des bots
                  WhatsApp et Discord pour automatiser des interactions Web.
                </p>
              </div>
            </div>

            <div class="bio-item">
              <div class="bio-icon">üéì</div>
              <div class="bio-content">
                <h3>D√©veloppement Web</h3>
                <p>
                  Je cr√©e des projets li√©s au d√©veloppement WEB, notamment ce
                  portfolio interactif qui me permet de pr√©senter mon travail de
                  mani√®re cr√©ative.
                </p>
              </div>
            </div>

            <div class="bio-item">
              <div class="bio-icon">üå±</div>
              <div class="bio-content">
                <h3>Apprentissage continu</h3>
                <p>
                  En apprentissage constant de Python et de JavaScript, dans le
                  but de se perfectionner dans le domaine.
                </p>
              </div>
            </div>

            <div class="bio-item">
              <div class="bio-icon">üìö</div>
              <div class="bio-content">
                <h3>Centres d'int√©r√™t</h3>
                <p>
                  Ma passion s'√©tend √† tout ce qui touche √† l'automatisation et
                  √† l'intelligence artificielle, des domaines qui fa√ßonnent
                  notre avenir technologique.
                </p>
              </div>
            </div>
          </div>

          <div class="profile-img">
            <div class="profile-frame">
              <div class="corner-accent top-left"></div>
              <div class="corner-accent top-right"></div>
              <div class="corner-accent bottom-left"></div>
              <div class="corner-accent bottom-right"></div>
              <img src="image.png" alt="Nathan" />
              <div class="profile-backdrop"></div>
            </div>
            <div class="profile-pattern"></div>

            <div class="github-btn-container">
              <a
                href="https://github.com/NathanSNB/"
                target="_blank"
                class="github-button"
              >
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="18"
                  height="18"
                  viewBox="0 0 24 24"
                  fill="currentColor"
                  style="margin-right: 8px"
                >
                  <path
                    d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"
                  />
                </svg>
                Voir mes projets tech
              </a>
            </div>
          </div>
        </section>

        <section id="skills" class="services-section">
          <h2 class="section-title">Mes Comp√©tences</h2>

          <div class="services-grid">
            <div class="service-card">
              <svg
                class="service-icon"
                viewBox="0 0 24 24"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M20 4L3 9.31372L10.5 13.5M20 4L14.5 21L10.5 13.5M20 4L10.5 13.5"
                  stroke="#6b7443"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                />
              </svg>
              <h3 class="service-title">Langages de programmation</h3>
              <p class="service-desc">
                Node.js, CSS, HTML, et bases de Python pour d√©velopper des
                projets vari√©s.
              </p>
            </div>

            <div class="service-card">
              <svg
                class="service-icon"
                viewBox="0 0 24 24"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M12 2C6.48 2 2 6.48 2 12C2 17.52 6.48 22 12 22C17.52 22 22 17.52 22 12C22 6.48 17.52 2 12 2ZM12 20C7.59 20 4 16.41 4 12C4 7.59 7.59 4 12 4C16.41 4 20 7.59 20 12C20 16.41 16.41 20 12 20Z"
                  fill="#6b7443"
                />
                <path
                  d="M12 6C8.69 6 6 8.69 6 12C6 15.31 8.69 18 12 18C15.31 18 18 15.31 18 12C18 8.69 15.31 6 12 6ZM12 16C9.79 16 8 14.21 8 12C8 9.79 9.79 8 12 8C14.21 8 16 9.79 16 12C16 14.21 14.21 16 12 16Z"
                  fill="#6b7443"
                />
                <circle cx="12" cy="12" r="2" fill="#6b7443" />
              </svg>
              <h3 class="service-title">Intelligence Artificielle</h3>
              <p class="service-desc">
                Utilisation de mod√®les IA tels que ChatGPT, Claude et WebSim,
                avec une initiation au prompt engineering.
              </p>
            </div>

            <div class="service-card">
              <svg
                class="service-icon"
                viewBox="0 0 24 24"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z"
                  stroke="#6b7443"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                />
                <path
                  d="M12 6V12L16 14"
                  stroke="#6b7443"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                />
              </svg>
              <h3 class="service-title">Automatisation</h3>
              <p class="service-desc">
                Utilisation de scripts d'automatisation pour l'envoi de messages
                et la gestion d'√©v√©nements sur WhatsApp et Discord.
              </p>
            </div>

            <div class="service-card">
              <svg
                class="service-icon"
                viewBox="0 0 24 24"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"
                  stroke="#6b7443"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                />
              </svg>
              <h3 class="service-title">Outils et logiciels</h3>
              <p class="service-desc">
                Visual Studio Code, Replit, Canva, Discord (cr√©ation et gestion
                de serveurs, d√©veloppement de bots).
              </p>
            </div>

            <div class="service-card">
              <svg
                class="service-icon"
                viewBox="0 0 24 24"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M20.317 4.37a19.791 19.791 0 0 0-4.885-1.515.074.074 0 0 0-.079.037c-.21.375-.445.865-.608 1.25a18.27 18.27 0 0 0-5.487 0 12.64 12.64 0 0 0-.617-1.25.077.077 0 0 0-.079-.037A19.736 19.736 0 0 0 3.677 4.37a.07.07 0 0 0-.032.027C.533 9.046-.32 13.58.099 18.057a.082.082 0 0 0 .031.056 19.9 19.9 0 0 0 5.993 3.03.078.078 0 0 0 .084-.028c.462-.63.874-1.295 1.226-1.994a.076.076 0 0 0-.041-.106 13.107 13.107 0 0 1-1.872-.892.077.077 0 0 1-.008-.128 10.2 10.2 0 0 0 .372-.292.074.074 0 0 1 .077-.01c3.928 1.793 8.18 1.793 12.062 0a.074.074 0 0 1 .078.01c.12.098.246.198.373.292a.077.077 0 0 1-.006.127 12.299 12.299 0 0 1-1.873.892.077.077 0 0 0-.041.107c.36.698.772 1.362 1.225 1.993a.076.076 0 0 0 .084.029 19.839 19.839 0 0 0 6.002-3.03.077.077 0 0 0 .032-.055c.5-5.177-.838-9.674-3.549-13.66a.061.061 0 0 0-.031-.03zM8.02 15.33c-1.183 0-2.157-1.085-2.157-2.419 0-1.333.956-2.419 2.157-2.419 1.21 0 2.176 1.096 2.157 2.42 0 1.333-.956 2.418-2.157 2.418zm7.975 0c-1.183 0-2.157-1.085-2.157-2.419 0-1.333.955-2.419 2.157-2.419 1.21 0 2.176 1.096 2.157 2.42 0 1.333-.946 2.418-2.157 2.418z"
                  fill="#6b7443"
                />
              </svg>
              <h3 class="service-title">Discord & Communication</h3>
              <p class="service-desc">
                Gestion approfondie de Discord, incluant la cr√©ation compl√®te de
                serveurs communautaires ainsi que leurs gestions, leur
                animation, d√©veloppement de bots personnalis√©s pour
                l'am√©lioration de l'UX.
              </p>
            </div>

            <div class="service-card">
              <svg
                class="service-icon"
                viewBox="0 0 24 24"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M12 12C14.21 12 16 10.21 16 8C16 5.79 14.21 4 12 4C9.79 4 8 5.79 8 8C8 10.21 9.79 12 12 12ZM12 14C9.33 14 4 15.34 4 18V20H20V18C20 15.34 14.67 14 12 14Z"
                  fill="#6b7443"
                />
              </svg>
              <h3 class="service-title">Leadership et engagement</h3>
              <p class="service-desc">
                √âtudiant engag√© dans la vie de son √©tablissement : pr√©sident du
                FSE et de l'association sportive pendant 3 ans, r√©dacteur pour
                le journal de l'√©tablissement, et participant actif √† divers
                clubs.
              </p>
            </div>

            <div class="service-card">
              <svg
                class="service-icon"
                viewBox="0 0 24 24"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M12 2C8.13 2 5 5.13 5 9C5 14.25 12 22 12 22C12 22 19 14.25 19 9C19 5.13 15.87 2 12 2ZM12 11.5C10.62 11.5 9.5 10.38 9.5 9C9.5 7.62 10.62 6.5 12 6.5C13.38 6.5 14.5 7.62 14.5 9C14.5 10.38 13.38 11.5 12 11.5Z"
                  fill="#6b7443"
                />
              </svg>
              <h3 class="service-title">Contributions en ligne</h3>
              <p class="service-desc">
                Guide local de Niveau 5 sur la plateforme Google Maps,
                contribuant √† am√©liorer l'information g√©ographique et
                l'exp√©rience utilisateur par des avis, photos et corrections
                pertinentes.
              </p>
            </div>
          </div>
        </section>
      </div>
    </main>

    <section id="contact" class="contact-section">
      <div class="container">
        <h2>Vous voulez me contacter ?</h2>
        <p>
          "L'intelligence artificielle n'est pas une fin, mais un tremplin. Elle
          n'est ni un remplacement, ni une menace, mais une opportunit√©
          d'explorer de nouveaux horizons et d'√©largir les fronti√®res de la
          connaissance humaine."
        </p>
        <a href="mailto:NatSNB68@gmail.com" class="contact-button"
          >‚Üí NatSNB68@gmail.com</a
        >
      </div>
    </section>

    <footer class="footer">
      <svg
        class="circles-graphic"
        viewBox="0 0 120 120"
        xmlns="http://www.w3.org/2000/svg"
      >
        <circle
          cx="60"
          cy="60"
          r="55"
          fill="none"
          stroke="white"
          stroke-width="1"
        />
        <circle
          cx="60"
          cy="60"
          r="45"
          fill="none"
          stroke="white"
          stroke-width="1"
        />
        <circle
          cx="60"
          cy="60"
          r="35"
          fill="none"
          stroke="white"
          stroke-width="1"
        />
      </svg>

      <h3>Nathan</h3>
      <p>LYC√âEN PASSIONNE PAR LA TECHNOLOGIE</p>
    </footer>
  </body>
  <script>
    window.onload = function () {
      // Typing animation avec vitesse variable
      setTimeout(() => {
        const title = document.querySelector(".animated-title");
        const originalText = title.textContent;
        title.textContent = "";

        let i = 0;
        function typeWriter() {
          if (i < originalText.length) {
            const speed = Math.random() * 50 + 70; // Vitesse al√©atoire entre 70ms et 120ms
            title.textContent += originalText.charAt(i);
            i++;
            setTimeout(typeWriter, speed);
          } else {
            title.insertAdjacentHTML(
              "beforeend",
              '<span class="cursor-blink">|</span>'
            );
          }
        }

        typeWriter();
      }, 400);

      // Animation des √©l√©ments au d√©filement
      const animateOnScroll = document.querySelectorAll(
        ".service-card, .bio-item, .intro-heading, .intro-divider"
      );

      const observer = new IntersectionObserver(
        (entries) => {
          entries.forEach((entry) => {
            if (entry.isIntersecting) {
              // Ajoute un d√©lai progressif pour les √©l√©ments qui se suivent
              const index = Array.from(
                entry.target.parentNode.children
              ).indexOf(entry.target);
              setTimeout(() => {
                entry.target.classList.add("animate-in");
              }, index * 100);
              observer.unobserve(entry.target);
            }
          });
        },
        { threshold: 0.2 }
      );

      animateOnScroll.forEach((element) => {
        observer.observe(element);
      });

      // Cr√©er des particules plus int√©ressantes
      createEnhancedParticles();
    };

    // Fonction pour cr√©er des particules am√©lior√©es
    function createEnhancedParticles() {
      const particlesContainer = document.createElement("div");
      particlesContainer.className = "particles-container";
      document.querySelector(".header").appendChild(particlesContainer);

      // Diff√©rents types de particules
      const types = ["circle", "square", "triangle"];

      for (let i = 0; i < 25; i++) {
        const particle = document.createElement("div");
        const type = types[Math.floor(Math.random() * types.length)];

        particle.className = `particle particle-${type}`;
        particle.style.left = Math.random() * 100 + "%";
        particle.style.top = Math.random() * 100 + "%";
        particle.style.animationDuration = 5 + Math.random() * 15 + "s";
        particle.style.animationDelay = Math.random() * 5 + "s";
        particle.style.opacity = 0.1 + Math.random() * 0.4;
        particle.style.transform = `scale(${0.5 + Math.random()})`;

        particlesContainer.appendChild(particle);
      }
    }

    // Animation subtile des cartes de comp√©tences
    document.querySelectorAll(".service-card").forEach((card) => {
      card.addEventListener("mouseenter", function () {
        const icon = this.querySelector(".service-icon");
        icon.style.transform = "rotate(5deg) scale(1.15)";
        setTimeout(() => {
          icon.style.transform = "rotate(0deg) scale(1.1)";
        }, 200);
      });

      card.addEventListener("mouseleave", function () {
        const icon = this.querySelector(".service-icon");
        icon.style.transform = "";
      });
    });
    // Assurez-vous que les liens de navigation fonctionnent
    document.querySelectorAll(".menu-item").forEach((link) => {
      link.addEventListener("click", function (e) {
        const targetId = this.getAttribute("href");
        const targetElement = document.querySelector(targetId);

        if (targetElement) {
          e.preventDefault();
          window.scrollTo({
            top: targetElement.offsetTop,
            behavior: "smooth",
          });

          // Mettre √† jour la classe active
          document.querySelectorAll(".menu-item").forEach((item) => {
            item.classList.remove("active");
          });
          this.classList.add("active");
        }
      });
    });
    // Carrousel am√©lior√© sans bugs
    function initCarousel() {
      const carousel = document.querySelector(".carousel-inner");
      const cards = document.querySelectorAll(".service-card");
      const prevBtn = document.querySelector(".prev-btn");
      const nextBtn = document.querySelector(".next-btn");
      const indicators = document.querySelectorAll(".indicator");

      // V√©rifier si les √©l√©ments n√©cessaires sont pr√©sents
      if (!carousel || !cards.length) {
        console.error("√âl√©ments du carrousel manquants");
        return;
      }

      // Ajouter un indicateur de progression
      const progressBar = document.createElement("div");
      progressBar.className = "carousel-progress";
      const carouselContainer = document.querySelector(".services-carousel");
      if (carouselContainer) {
        carouselContainer.appendChild(progressBar);
      }

      // Variables pour le carrousel
      const cardsPerView = window.innerWidth > 768 ? 2 : 1;
      const totalCards = cards.length;
      const totalSlides = Math.ceil(totalCards / cardsPerView);
      console.log(
        `Diagnostic: ${totalCards} cartes au total, ${cardsPerView} par vue, ${totalSlides} slides`
      );

      // Assurez-vous d'avoir suffisamment d'indicateurs
      const indicatorsContainer = document.querySelector(
        ".carousel-indicators"
      );
      if (indicatorsContainer) {
        // Vider les indicateurs existants
        indicatorsContainer.innerHTML = "";

        // Cr√©er le bon nombre d'indicateurs
        for (let i = 0; i < totalSlides; i++) {
          const indicator = document.createElement("span");
          indicator.className = i === 0 ? "indicator active" : "indicator";
          indicator.setAttribute("data-index", i);
          indicator.addEventListener("click", () => {
            userInteracted = true;
            clearAutoplay();
            goToSlide(i);
            restartAutoplayAfterDelay();
          });
          indicatorsContainer.appendChild(indicator);
        }
      }

      let currentIndex = 0;
      let autoplayTimer = null;
      let userInteracted = false;
      let isTransitioning = false;

      // Initialiser la largeur des cartes
      cards.forEach((card, index) => {
        card.style.flexBasis =
          window.innerWidth > 768 ? "calc(50% - 1rem)" : "calc(100% - 1rem)";
        if (index < cardsPerView) {
          card.classList.add("active");
        }
      });

      // Fonction pour aller √† une diapositive sp√©cifique
      function goToSlide(index, smooth = true) {
        // √âviter les doubles transitions
        if (isTransitioning && smooth) return;
        isTransitioning = smooth;

        // Logique du carrousel infini
        if (index < 0) index = totalSlides - 1;
        if (index >= totalSlides) index = 0;

        currentIndex = index;

        // Calculer le d√©calage
        let offset = -index * (100 / cardsPerView);

        // Appliquer la transition
        if (smooth) {
          carousel.style.transition =
            "transform 0.7s cubic-bezier(0.25, 0.1, 0.25, 1)";
        } else {
          carousel.style.transition = "none";
        }

        carousel.style.transform = `translateX(${offset}%)`;

        // Mettre √† jour les classes actives
        cards.forEach((card, i) => {
          const isActive =
            i >= index * cardsPerView &&
            i < index * cardsPerView + cardsPerView;
          card.classList.toggle("active", isActive);
        });

        // Mettre √† jour les indicateurs
        indicators.forEach((indicator, i) => {
          indicator.classList.toggle("active", i === currentIndex);
        });

        if (smooth) resetProgressAnimation();
      }

      // R√©initialiser l'animation de progression
      function resetProgressAnimation() {
        if (!progressBar) return;

        progressBar.classList.remove("animating");
        setTimeout(() => {
          progressBar.classList.add("animating");
        }, 50);
      }

      // √âv√©nements des boutons
      if (prevBtn) {
        prevBtn.addEventListener("click", () => {
          userInteracted = true;
          clearAutoplay();
          goToSlide(currentIndex - 1);
          restartAutoplayAfterDelay();
        });
      }

      if (nextBtn) {
        nextBtn.addEventListener("click", () => {
          userInteracted = true;
          clearAutoplay();
          goToSlide(currentIndex + 1);
          restartAutoplayAfterDelay();
        });
      }

      // Support tactile
      let touchStartX = 0;
      let touchEndX = 0;

      if (carouselContainer) {
        carouselContainer.addEventListener(
          "touchstart",
          (e) => {
            userInteracted = true;
            clearAutoplay();
            touchStartX = e.changedTouches[0].screenX;
          },
          { passive: true }
        );

        carouselContainer.addEventListener(
          "touchend",
          (e) => {
            touchEndX = e.changedTouches[0].screenX;
            handleSwipe();
            restartAutoplayAfterDelay();
          },
          { passive: true }
        );
      }

      function handleSwipe() {
        const threshold = 50;
        if (touchStartX - touchEndX > threshold) {
          goToSlide(currentIndex + 1);
        } else if (touchEndX - touchStartX > threshold) {
          goToSlide(currentIndex - 1);
        }
      }

      // Fonctions d'autoplay
      function startAutoplay() {
        if (!userInteracted && !autoplayTimer) {
          autoplayTimer = setInterval(() => {
            goToSlide(currentIndex + 1);
          }, 5000);
          resetProgressAnimation();
        }
      }

      function clearAutoplay() {
        if (autoplayTimer) {
          clearInterval(autoplayTimer);
          autoplayTimer = null;
          if (progressBar) progressBar.classList.remove("animating");
        }
      }

      function restartAutoplayAfterDelay() {
        clearAutoplay();
        setTimeout(() => {
          userInteracted = false;
          startAutoplay();
        }, 10000);
      }

      // Gestion de la fin de transition pour le carrousel infini
      carousel.addEventListener("transitionend", () => {
        isTransitioning = false;
      });

      // Gestion du redimensionnement
      window.addEventListener("resize", () => {
        const newCardsPerView = window.innerWidth > 768 ? 2 : 1;

        cards.forEach((card) => {
          card.style.flexBasis =
            window.innerWidth > 768 ? "calc(50% - 1rem)" : "calc(100% - 1rem)";
        });

        // Recalculer la position
        goToSlide(currentIndex, false);
      });

      // Pause si onglet inactif
      document.addEventListener("visibilitychange", () => {
        if (document.hidden) {
          clearAutoplay();
        } else if (!userInteracted) {
          startAutoplay();
        }
      });

      // Pause au survol
      if (carouselContainer) {
        carouselContainer.addEventListener("mouseenter", () => {
          clearAutoplay();
        });

        carouselContainer.addEventListener("mouseleave", () => {
          if (!userInteracted) {
            startAutoplay();
          }
        });
      }

      // D√©marrer le carrousel
      goToSlide(0, false);
      setTimeout(startAutoplay, 500);
    }

    // Initialisation s√©curis√©e du carrousel
    document.addEventListener("DOMContentLoaded", () => {
      // S'assurer que tous les √©l√©ments sont charg√©s
      setTimeout(initCarousel, 100);
    });
  </script>
</html>
